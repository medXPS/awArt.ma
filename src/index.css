@tailwind base;
@tailwind components;
@tailwind utilities;

/* Smooth scrolling */
html {
  scroll-behavior: smooth;
}

/* Force dark mode styles */
.dark {
  color-scheme: dark;
}

.dark * {
  border-color: rgb(55 65 81 / 1) !important;
}

/* RTL Support */
[dir="rtl"] {
  text-align: right;
}

[dir="rtl"] .rtl\:space-x-reverse > :not([hidden]) ~ :not([hidden]) {
  --tw-space-x-reverse: 1;
}

[dir="rtl"] .rtl\:text-right {
  text-align: right;
}

[dir="rtl"] .rtl\:text-left {
  text-align: left;
}

[dir="rtl"] .rtl\:mr-0 {
  margin-right: 0;
}

[dir="rtl"] .rtl\:ml-3 {
  margin-left: 0.75rem;
}

/* Custom scrollbar for dark mode */
@layer base {
  ::-webkit-scrollbar {
    width: 8px;
  }
  
  ::-webkit-scrollbar-track {
    @apply bg-gray-100 dark:bg-gray-800;
  }
  
  ::-webkit-scrollbar-thumb {
    @apply bg-gray-300 dark:bg-gray-600 rounded-full;
  }
  
  ::-webkit-scrollbar-thumb:hover {
    @apply bg-gray-400 dark:bg-gray-500;
  }
  
  /* Line clamp utilities */
  .line-clamp-1 {
    overflow: hidden;
    display: -webkit-box;
    -webkit-box-orient: vertical;
    -webkit-line-clamp: 1;
  }
  
  .line-clamp-2 {
    overflow: hidden;
    display: -webkit-box;
    -webkit-box-orient: vertical;
    -webkit-line-clamp: 2;
  }
  
  .line-clamp-3 {
    overflow: hidden;
    display: -webkit-box;
    -webkit-box-orient: vertical;
    -webkit-line-clamp: 3;
  }
  
  .line-clamp-4 {
    overflow: hidden;
    display: -webkit-box;
    -webkit-box-orient: vertical;
    -webkit-line-clamp: 4;
  }
  
  /* Backdrop blur support */
  .backdrop-blur-xl {
    backdrop-filter: blur(24px);
  }
  
  .backdrop-blur-2xl {
    backdrop-filter: blur(40px);
  }
}

/* Smooth transitions for theme switching */
*, *::before, *::after {
  transition: background-color 0.2s ease, border-color 0.2s ease, color 0.2s ease;
}

/* Optimize animations for performance */
@media (prefers-reduced-motion: reduce) {
  *, *::before, *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }
}

/* Custom animations */
@keyframes float {
  0%, 100% { transform: translateY(0px); }
  50% { transform: translateY(-20px); }
}

@keyframes pulse-glow {
  0%, 100% { box-shadow: 0 0 20px rgba(168, 85, 247, 0.5); }
  50% { box-shadow: 0 0 40px rgba(236, 72, 153, 0.8); }
}

.animate-float {
  animation: float 6s ease-in-out infinite;
}

.animate-pulse-glow {
  animation: pulse-glow 3s ease-in-out infinite;
}

/* Improved focus styles */
.focus-visible:focus {
  outline: 2px solid theme('colors.purple.500');
  outline-offset: 2px;
}

/* Better selection colors */
::selection {
  background-color: theme('colors.purple.200');
  color: theme('colors.purple.900');
}

::-moz-selection {
  background-color: theme('colors.purple.200');
  color: theme('colors.purple.900');
}

/* Dark mode selection */
.dark ::selection {
  background-color: theme('colors.purple.800');
  color: theme('colors.purple.100');
}

.dark ::-moz-selection {
  background-color: theme('colors.purple.800');
  color: theme('colors.purple.100');
}